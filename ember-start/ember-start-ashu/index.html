<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Ember Starter Kit</title>
  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/style.css">
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.no-icons.min.css" rel="stylesheet">
</head>
<body>

  <script type="text/x-handlebars">
    <div class="navbar">
      <div class="navbar-inner">
        {{#link-to 'index' class='brand'}}Ashu{{/link-to}}
        <ul class="nav">
          <!-- 查找 posts 模板 -->
          <li>{{#link-to 'posts'}}诗{{/link-to}}</li>

          <!-- 查找 about 模板 -->
          <li>{{#link-to 'about'}}放屁{{/link-to}}</li>
        </ul>
      </div>
    </div>

    <!-- 不同的模板通过路由插入 outlet，用于动态加载内容 -->
    {{outlet}}
  </script>

  <!-- 定义 posts 模板 -->
  <script type="text/x-handlebars" id="posts">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <table class='table'>
            <thead>
              <tr><th>Recent Posts</th></tr>
            </thead>

            <!-- PostsRoute 返回 post 对象数组 -->
            <tbody>
              {{#each model}}
                <tr>
                  <td>
                    <!-- 查找 post 模板 -->
                    {{#link-to 'post' this}}{{title}} <small class='muted'>by {{author.name}}</small>{{/link-to}}
                  </td>
                </tr>
              {{/each}}
            </tbody>
          </table>
        </div>

        <div class="span9">
          {{outlet}}
        </div>
      </div>
    </div>
  </script>

  <!-- 定义 posts/index 模板 -->
  <script type="text/x-handlebars" id="posts/index">
    <p class="text-warning">Please select a post</p>
  </script>

  <!-- 定义 post 模板 -->
  <script type="text/x-handlebars" id="post">
    <div class="markdown-left">
      {{#if isEditing}}
        <!-- 查找 post/edit 模板 -->
        {{partial 'post/edit'}}
        <button {{action 'doneEditing'}}>Markdown</button>
      <!-- {{else}}
        <button {{action 'edit'}}>Edit</button>
      {{/if}} -->
    </div>
    <div class="text-right">
      <h1>{{title}}</h1>
      <h2>by {{author.name}} <small class='muted'>({{format-date date}})</small></h2>

      <hr>

      <div class='intro'>
        {{format-markdown excerpt}}
      </div>

      <div class='below-the-fold'>
        {{format-markdown body}}
      </div>
    </div>
  </script>

  <!-- 定义 post/_edit 模板 -->
  <script type="text/x-handlebars" id="post/_edit">
    <p>{{input class="title" type="text" value=title}}</p>
    <p>{{input class="intro" type="text" value=excerpt}}</p>
    <p>{{textarea class="markdown" value=body}}</p>
  </script>

  <!-- 定义 about 模板 -->
  <script type="text/x-handlebars" id="about">
    <div class='about'>
      <p>
        Yehuda Katz is a member of the <a href="http://emberjs.com">Ember.js</a>, <a href="http://rubyonrails.org">Ruby on Rails</a>
        and <a href="http://www.jquery.com">jQuery</a> Core Teams; he spends his daytime hours at the startup he founded,
        <a href="http://www.tilde.io">Tilde Inc.</a>.
      </p>

      <p>
        Yehuda is co-author of best-selling <a href="http://affiliate.manning.com/idevaffiliate.php?id=485_176">jQuery in Action</a> and
        <a href="http://affiliate.manning.com/idevaffiliate.php?id=485_145">Rails 3 in Action</a>.
      </p>

      <p>
        He spends most of his time hacking on open source—his main projects, along with others, like <a href="https://github.com/wycats/thor">Thor</a>,
        <a href="http://www.handlebarsjs.com">Handlebars</a> and <a href="https://github.com/carlhuda/janus">Janus</a>—or traveling the world doing evangelism work.
      </p>

      <p>He can be found on Twitter as <a href="http://www.twitter.com/wycats">@wycats</a>.</p>
    </div>

    <div class='about'>
      <p>My name is Tom Dale. I helped create <a href="http://www.emberjs.com/">Ember.js</a>, a JavaScript framework that brings sanity to the web.</p>

      <p>In October of 2011, I co-founded <a href="http://www.tilde.io">Tilde</a> with Yehuda Katz, Leah Silber and Carl Lerche.</p>

      <p>In my spare time I run a cash-for-beer exchange program at many local San Francisco dive bars.</p>
    </div>
  </script>

  <script src="js/libs/jquery-v1.11.1.js"></script>
  <script src="js/libs/handlebars-v1.3.0.js"></script>
  <script src="js/libs/ember-v1.6.1.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/showdown/0.3.1/showdown.min.js"></script>
  <script src="http://cdnjs.cloudflare.com/ajax/libs/moment.js/2.1.0/moment.min.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
